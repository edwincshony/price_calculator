<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weight-Price Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background-color: #f1f5f9;
            font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }
        .card {
            background: white;
            border-radius: 1.5rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }
        .input-group:focus-within label {
            color: #2563eb;
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        /* Smooth transitions for mode switching */
        .fade-enter {
            animation: fadeIn 0.3s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Mobile-friendly active states */
        button:active {
            transform: scale(0.98);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4 sm:p-6">

    <div class="max-w-md w-full">
        <!-- Header -->
        <div class="text-center mb-6 sm:mb-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight">Price Calculator</h1>
            <p class="text-slate-500 mt-2 text-sm sm:text-base">Quickly compare unit prices while shopping</p>
        </div>

        <!-- Mode Toggle -->
        <div class="flex bg-slate-200 p-1.5 rounded-2xl mb-6 shadow-inner">
            <button id="tab-to-kg" onclick="setMode('to-kg')" class="flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all bg-white shadow-sm text-blue-600">
                Find Price/kg
            </button>
            <button id="tab-to-g" onclick="setMode('to-g')" class="flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all text-slate-600 hover:text-slate-800">
                Find Price for Grams
            </button>
        </div>

        <!-- Main Card -->
        <div class="card p-6 sm:p-10">
            
            <!-- Mode 1: Price per KG -->
            <div id="mode-to-kg" class="space-y-6 fade-enter">
                <div class="input-group">
                    <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide">Price of Item</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-medium">₹</span>
                        <input type="number" id="price-n" inputmode="decimal" placeholder="0.00" oninput="calculateToKg()" class="w-full pl-10 pr-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all text-lg font-medium">
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide">Weight (Grams)</label>
                    <div class="relative">
                        <input type="number" id="weight-n" inputmode="numeric" placeholder="e.g. 250" oninput="calculateToKg()" class="w-full px-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all text-lg font-medium">
                        <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold">g</span>
                    </div>
                </div>

                <div class="pt-6 border-t-2 border-slate-50">
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Resulting Price per KG</p>
                    <div id="result-kg" class="text-5xl font-black text-blue-600 tabular-nums">₹0.00</div>
                    <div class="mt-4 p-3 bg-blue-50 rounded-lg">
                        <p class="text-[10px] leading-tight text-blue-700 font-medium italic">Formula: Price per kg = Price of n g × (1000 ÷ n)</p>
                    </div>
                </div>
            </div>

            <!-- Mode 2: Price for Grams -->
            <div id="mode-to-g" class="space-y-6 hidden">
                <div class="input-group">
                    <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide">Price per Kilogram</label>
                    <div class="relative">
                        <span class="absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 font-medium">₹</span>
                        <input type="number" id="price-kg-input" inputmode="decimal" placeholder="0.00" oninput="calculateToG()" class="w-full pl-10 pr-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-xl focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 outline-none transition-all text-lg font-medium">
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-sm font-bold text-slate-700 mb-2 uppercase tracking-wide">Target Weight (Grams)</label>
                    <div class="relative">
                        <input type="number" id="target-weight-n" inputmode="numeric" placeholder="e.g. 500" oninput="calculateToG()" class="w-full px-4 py-4 bg-slate-50 border-2 border-slate-100 rounded-xl focus:ring-4 focus:ring-emerald-500/10 focus:border-emerald-500 outline-none transition-all text-lg font-medium">
                        <span class="absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 font-bold">g</span>
                    </div>
                </div>

                <div class="pt-6 border-t-2 border-slate-50">
                    <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-1">Total Price for Grams</p>
                    <div id="result-g" class="text-5xl font-black text-emerald-600 tabular-nums">₹0.00</div>
                    <div class="mt-4 p-3 bg-emerald-50 rounded-lg">
                        <p class="text-[10px] leading-tight text-emerald-700 font-medium italic">Formula: Price of n g = Price per kg × (n ÷ 1000)</p>
                    </div>
                </div>
            </div>

        </div>

        <!-- Footer Info -->
        <div class="text-center mt-8 px-4">
            <p class="text-slate-400 text-xs sm:text-sm font-medium">
                Optimized for fast price checks in-store.
            </p>
        </div>
    </div>

    <script>
        function setMode(mode) {
            const modeToKg = document.getElementById('mode-to-kg');
            const modeToG = document.getElementById('mode-to-g');
            const tabToKg = document.getElementById('tab-to-kg');
            const tabToG = document.getElementById('tab-to-g');

            // Reset animations
            modeToKg.classList.remove('fade-enter');
            modeToG.classList.remove('fade-enter');
            
            // Force a reflow to restart animation
            void (mode === 'to-kg' ? modeToKg : modeToG).offsetWidth;

            if (mode === 'to-kg') {
                modeToKg.classList.remove('hidden');
                modeToKg.classList.add('fade-enter');
                modeToG.classList.add('hidden');
                tabToKg.className = "flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all bg-white shadow-sm text-blue-600";
                tabToG.className = "flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all text-slate-600 hover:text-slate-800";
            } else {
                modeToG.classList.remove('hidden');
                modeToG.classList.add('fade-enter');
                modeToKg.classList.add('hidden');
                tabToG.className = "flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all bg-white shadow-sm text-emerald-600";
                tabToKg.className = "flex-1 py-3 px-4 rounded-xl text-sm font-bold transition-all text-slate-600 hover:text-slate-800";
            }
        }

        function calculateToKg() {
            const priceN = parseFloat(document.getElementById('price-n').value);
            const weightN = parseFloat(document.getElementById('weight-n').value);
            const resultDisplay = document.getElementById('result-kg');

            if (priceN > 0 && weightN > 0) {
                const result = priceN * (1000 / weightN);
                resultDisplay.innerText = '₹' + result.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
            } else {
                resultDisplay.innerText = '₹0.00';
            }
        }

        function calculateToG() {
            const priceKg = parseFloat(document.getElementById('price-kg-input').value);
            const weightN = parseFloat(document.getElementById('target-weight-n').value);
            const resultDisplay = document.getElementById('result-g');

            if (priceKg > 0 && weightN > 0) {
                const result = priceKg * (weightN / 1000);
                resultDisplay.innerText = '₹' + result.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
            } else {
                resultDisplay.innerText = '₹0.00';
            }
        }
    </script>
</body>
</html>